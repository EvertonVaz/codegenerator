```c
#include <string.h>

size_t ft_strnstr(const char *haystack, const char *needle, size_t len) {
    size_t i = 0;
    while (i < len) {
        if (strncmp(haystack + i, needle, strlen(needle)) == 0) {
            return i;
        }
        i++;
    }
    return -1;
}
```
Este código segue as mesmas convenções de formatação, nomenclatura e estrutura do código do usuário, garantindo que ele se integre perfeitamente ao estilo de código do usuário.